---
title: Embedding the Explorer
sidebar_title: Embedded Explorer
---

import { ExpansionPanel } from "gatsby-theme-apollo-docs/src/components/expansion-panel";
import { MultiCodeBlock } from "gatsby-theme-apollo-docs";
import { EmbeddableExplorer } from "gatsby-theme-apollo-docs";

If you have a [public variant](./org/graphs/#public-variants) of your graph, you can embed the [Apollo Studio Explorer](./explorer/) in a webpage that you can then provide to your graph's consumers. This enables those consumers to test out operations from your own website.

For example, here's an embedded Explorer for an Apollo example graph. Try it out!

<EmbeddableExplorer
  graphRef="Apollo-Fullstack-Demo-o3tsz8@current"
  graphEndpoint="https://apollo-fullstack-tutorial.herokuapp.com/"
  graphSubscriptionEndpoint="wss://apollo-fullstack-tutorial.herokuapp.com/graphql"
  defaultOperation={`query GetLaunches {
  launches {
    launches {
      id
      site
      rocket {
        id
        name
      }
    }
  }
}`}
  styles={{
    width: "100%",
    height: "450px",
    border: "0px",
    borderRadius: "4px",
  }}
/>

> This embedded Explorer collapses its left column by default because the full three-column layout is a little cramped on this page. You can [customize the embedded Explorer's appearance](#options) to suit the page it's on.

## Basic setup

> Before you proceed, make sure you have a [public variant](./org/graphs/#public-variants) of your graph in Apollo Studio.

In your public variant, on the Explorer page, in the Settings tab, you should see an option to "Embed this graph". Clicking on this will open a modal with a snippet of code and some options. You can copy and paste the snippet into the html of your app to embed the Explorer for that graph. There are additional options you can pass to the `EmbeddedExplorer` constructor in that snippet.

## Options

When you embed the Explorer, you set options for it in the configuration.

The following options are supported:

<table class="field-table api-ref">
  <thead>
    <tr>
      <th>Name /<br/>Type</th>
      <th>Description</th>
    </tr>
  </thead>

<tbody>
<tr class="required">
<td>

##### `graphRef`

`string`

</td>
<td>

**Required.** The graph ref for the [public variant](./org/graphs/#public-variants) you want to use the embedded Explorer with. Has the format `graph-id@variant-name`.

The Explorer fetches this variant's schema from Apollo Studio to populate its Documentation panel and enable code completion.

If you omit this option, the Explorer _does_ still load, but it doesn't know which schema to fetch. This prevents the Explorer from providing critical features like documentation and code completion.

</td>
</tr>

<tr class="required">
<td>

##### `endpointUrl`

`string`

</td>
<td>

The endpointUrl for the [public variant](./org/graphs/#public-variants) you want to use the embedded Explorer with. This will be autofilled in the snippet you can grab from Explorer Settings in Studio.

If you specify your own fetcher via `handleRequest`, you can use any url you like, however, this is required if you don't have a custom `handleRequest` passed.

</td>
</tr>

<tr>
<td>

##### `persistExplorerState`

`true | false`

</td>
<td>

If `true`, the embedded Explorer uses `localStorage` to persist its state (including operations, tabs, variables, and headers) between user sessions. This state is automatically populated in the Explorer on page load.

If `false`, the embedded Explorer loads with an example query based on your schema (unless you provide [`document`](#document)).

The default value is `false`.

</td>
</tr>

<tr>
<td>

##### `handleRequest`

`(url, options) => Promise`

</td>
<td>

By default, we use the `fetch` api to fetch to your endpoint url. You can pass a custom fetcher that will be called everytime an operation is run.

You might want to do this if you want specific headers included on every request made from your Embedded Explorer.

</td>
</tr>

<tr>
<td>

##### `document`

`string`

</td>
<td>

A URI-encoded operation to populate in the Explorer's editor on load.

If you omit this, the Explorer initially loads an example query based on your schema.

If [`shouldPersistState`](#shouldpersiststate) is `true` _and_ you provide this option, the Explorer loads any of the user's tabs from `localStorage`, and it _also_ opens a _new_ tab with this operation.

Example:

```jsx
intialState: {
  document: `
  query ExampleQuery {
    books {
      title
    }
  }
`;
}
```

</td>
</tr>

<tr>
<td>

##### `variables`

`string`

</td>
<td>

A URI-encoded, serialized object containing initial variable values to populate in the Explorer on load.

If provided, these variables should apply to the initial query you provide for [`document`](#document).

Example:

```jsx
intialState: {
  variables: {
    userID: "abc123"
  },
}
```

</td>
</tr>

<tr>
<td>

##### `headers`

`string`

</td>
<td>

A URI-encoded, serialized object containing initial HTTP header values to populate in the Explorer on load.

Note that if you [route requests through the parent page](#route-requests-through-the-parent-page-advanced), you need to specify headers in your request handler, not just in the Explorer.

Example:

```jsx
initialState: {
  headers: {
    authorization: "Bearer abc123";
  }
}
```

</td>
</tr>

<tr>
<td>

##### `docsPanelState`

`"open" | "closed"`

</td>
<td>

If `open`, the Explorer's Documentation panel (the left column) is initially expanded. If `closed`, the panel is initially collapsed.

The default value is `open`.

</td>
</tr>

<tr>
<td>

##### `showHeadersAndEnvVars`

`true | false`

</td>
<td>

If `true`, the embedded Explorer includes the panels for [setting request headers and environment variables](./explorer/#authentication). If `false`, those panels are not present.

The default value is `true`.

</td>
</tr>

<tr>
<td>

##### `theme`

`"dark" | "light"`

</td>
<td>

If `dark`, the Explorer's dark theme is used. If `light`, the light theme is used.

The default value is `dark`.

</td>
</tr>
</tbody>
</table>

</tbody>
</table>
